"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Protocol = void 0;
const core_1 = require("@tsed/core");
const di_1 = require("@tsed/di");
const contants_1 = require("../contants");
/**
 * Declare a new Protocol base on a Passport Strategy
 *
 * @decorator
 * @class
 */
function Protocol(options) {
    return core_1.useDecorators(di_1.Injectable({
        type: contants_1.PROVIDER_TYPE_PROTOCOL
    }), core_1.StoreSet("protocol", options), di_1.Configuration({
        passport: {
            protocols: {
                [options.name]: options
            }
        }
    }));
}
exports.Protocol = Protocol;
//# sourceMappingURL=protocol.js.map